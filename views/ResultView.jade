extends layout
block content
  div.container#bodyContainer
    h1.text-center My Journey
    iframe(width='800', height='600', scrolling='yes', frameborder='yes', src= 'MapView')
    table.table.table-striped.tablehover
      thead
        tr
          th Code
          th Name
          th Temperature
          th Wind Speed
      tbody
        each result in resultsList
          tr
            td=result.getCode()
            td=result.getName()
            td=result.getTemp()
            td=result.getWind()
    #fb-root
      
    div(style="text-align: center;")
      button#shareToFB(type="submit",class="btn btn-primary")
        a(href='#', onclick='postToFb()') Share My Journey on   
          i.fa.fa-facebook-square.fa-lg
  
  script.
    window.fbAsyncInit = function() {
      FB.init({
        appId       :'1646694312239569',
        status      : true, // check login status
        cookies     : true, // enable cookies to allow the server to access the session
        xfbml       : true  // parse XFBML
      });
    };

    // Load the SDK Asynchronously
    (function() {
      var e = document.createElement('script');
      e.src = document.location.protocol + '//connect.facebook.net/en_US/all.js';
      e.async = true;
      document.getElementById('fb-root').appendChild(e);
    }());
    
    for (var i = 0; i < resultsList.length(); i++) {
      flightRoute.conat(">> ");
      flightRoute.conat(resultsList[i].getCode());
    }

    var flightRoute = ""; // this needs to be a string of actual route to be added in later

    function postToFb() {
      var obj = {
        method:      'feed',
        link:        'https://google.com', // to be changed later
        picture:     'https://domain.tld/75x75.jpg', // to be changed later
        name:        'My Travel Plans',
        caption:     'AirTime Application ',
        description: 'My Flight ' + flightRoute // My Flight >> LAX >> SFO >> ALX >> etc
      };
      FB.ui(obj);
    }
  